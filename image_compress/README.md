# Canvas图片压缩

输入： images/*
输出： images/jpeg

## 压缩规则

+ 图片宽度 > 1500
  + 宽度：1500
  + 高度：按图像原始比例自适应高度
  + 清晰度：0.3
+ 图片宽度 < 2000
  + 宽度：原始宽度
  + 高度：原始高度
  + 清晰度：0.4

## 冗余逻辑

提交前会再检查一次文件大小，如果超出300KB，再次执行压缩逻辑，清晰度按照0.2且按照图片的一半宽度再压缩

## 结论

6MB照片可以压缩到200KB下
10MB照片可以压缩到400KB左右